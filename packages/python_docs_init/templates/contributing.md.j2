# Contributing to {{ project_name }}

Thank you for considering contributing to {{ project_name }}! This document provides guidelines for contributing to the project.

## Code of Conduct

By participating in this project, you agree to maintain a respectful and inclusive environment for all contributors.

## Getting Started

### Prerequisites

- Python {{ requires_python if requires_python else "3.11+" }}
- uv package manager (recommended) or pip
- Git

### Development Setup

1. **Fork and clone the repository**

```bash
git clone {{ git_url if git_url else "REPOSITORY_URL" }}
cd {{ project_name }}
```

2. **Install development dependencies**

```bash
uv sync --all-extras
```

3. **Install pre-commit hooks**

```bash
uv run pre-commit install
```

## Development Workflow

### Creating a Branch

Create a feature branch from the main branch:

```bash
git checkout -b feature/your-feature-name
# or
git checkout -b fix/your-bug-fix
```

### Making Changes

1. Make your changes in your feature branch
2. Write or update tests for your changes
3. Ensure all tests pass
4. Update documentation if needed
5. Follow the coding standards

### Running Tests

```bash
# Run all tests
uv run pytest

# Run tests with coverage
uv run pytest --cov={{ project_name.replace('-', '_') }} --cov-report=html

# Run specific test file
uv run pytest tests/test_specific.py

# Run specific test
uv run pytest tests/test_specific.py::test_function_name
```

### Code Quality

This project uses several tools to maintain code quality:

**Linting:**

```bash
# Run ruff linter
uv run ruff check .

# Auto-fix issues
uv run ruff check --fix .
```

**Type Checking:**

```bash
# Run mypy
uv run mypy packages/

# Run pyright
uv run pyright packages/
```

**Formatting:**

```bash
# Check formatting
uv run ruff format --check .

# Format code
uv run ruff format .
```

**Pre-commit Hooks:**

Pre-commit hooks run automatically on `git commit`. To run manually:

```bash
uv run pre-commit run --all-files
```

### Documentation

Update documentation when adding or changing functionality:

```bash
# Build documentation locally
uv run mkdocs build

# Serve documentation with live reload
uv run mkdocs serve
```

Visit http://localhost:8000 to view the documentation.

## Commit Guidelines

### Commit Message Format

Follow the [Conventional Commits](https://www.conventionalcommits.org/) specification:

```
<type>(<scope>): <subject>

<body>

<footer>
```

**Types:**
- `feat`: New feature
- `fix`: Bug fix
- `docs`: Documentation changes
- `style`: Code style changes (formatting, missing semicolons, etc.)
- `refactor`: Code refactoring
- `test`: Adding or updating tests
- `chore`: Maintenance tasks

**Examples:**

```
feat(api): add support for batch processing

Implement batch processing to handle multiple items efficiently.
This reduces API calls and improves performance.

Closes #123
```

```
fix(cli): correct argument parsing for --output flag

The --output flag was not properly handling relative paths.
Now resolves paths relative to current working directory.

Fixes #456
```

### Commit Best Practices

- Write clear, descriptive commit messages
- Keep commits focused on a single change
- Reference issues in commit messages
- Ensure each commit passes tests

## Pull Request Process

### Before Submitting

- [ ] All tests pass locally
- [ ] Code follows project style guidelines
- [ ] Documentation is updated
- [ ] Commit messages follow conventions
- [ ] Pre-commit hooks pass

### Submitting a Pull Request

1. **Push your branch**

```bash
git push origin feature/your-feature-name
```

2. **Create a pull request** on the repository

3. **Fill out the PR template** with:
   - Description of changes
   - Motivation and context
   - Related issues
   - Testing performed
   - Screenshots (if applicable)

4. **Address review feedback** if requested

### Pull Request Requirements

- All CI checks must pass
- At least one approving review (if required)
- No merge conflicts
- Documentation updated
- Tests added or updated

## Coding Standards

### Python Style

- Follow [PEP 8](https://pep8.org/)
- Use type hints for all functions
- Write Google-style docstrings
- Maximum line length: 120 characters
- Use meaningful variable names

### Docstring Example

```python
def process_data(input_data: list[str], threshold: int = 10) -> dict[str, int]:
    """Process input data and count occurrences above threshold.

    Args:
        input_data: List of strings to process.
        threshold: Minimum count threshold. Defaults to 10.

    Returns:
        Dictionary mapping strings to their counts.

    Raises:
        ValueError: If input_data is empty.

    Example:
        >>> process_data(["a", "b", "a"], threshold=2)
        {"a": 2}
    """
    if not input_data:
        raise ValueError("input_data cannot be empty")
    # Implementation...
```

### Testing Standards

- Write tests for all new features
- Maintain or improve code coverage
- Use descriptive test names
- Follow AAA pattern (Arrange, Act, Assert)
- Use pytest fixtures for common setup

### Test Example

```python
def test_process_data_filters_below_threshold():
    """Test that process_data filters out items below threshold."""
    # Arrange
    input_data = ["a", "a", "b", "c", "c", "c"]
    threshold = 2

    # Act
    result = process_data(input_data, threshold=threshold)

    # Assert
    assert result == {"a": 2, "c": 3}
    assert "b" not in result
```

## Issue Reporting

### Bug Reports

Include:
- Clear description of the bug
- Steps to reproduce
- Expected behavior
- Actual behavior
- Environment details (OS, Python version)
- Error messages or stack traces

### Feature Requests

Include:
- Clear description of the feature
- Use case and motivation
- Proposed API or interface
- Alternative solutions considered

## Questions?

If you have questions about contributing:

1. Check existing [issues]({{ git_url if git_url else "REPOSITORY_URL" }}/issues)
2. Review [documentation](index.md)
3. Create a [discussion]({{ git_url if git_url else "REPOSITORY_URL" }}/discussions)

## License

By contributing to {{ project_name }}, you agree that your contributions will be licensed under the project's license.
